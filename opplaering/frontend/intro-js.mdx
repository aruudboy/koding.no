import { RelevantLinks } from "@site/src/components/RelevantLinks/RelevantLinks.tsx";
import { RevealAnswer } from "@site/src/components/RevealAnswer/RevealAnswer.tsx";
import { Test } from "./intro-js.quiz.tsx";
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# Grunnleggende JavaScript

- [x] JavaScript er brukt for å legge til interaktivitet til en nettside.
- [x] JavaScript er verdens mest brukte programmeringsspråk.
- [x] JavaScript brukes ofte sammen med HTML og CSS, men kan også bli brukt i andre sammenhenger.

JavaScript brukes eksempelvis til å utføre en oppgave når en knapp blir trykket inn, eller til å hente informasjon om klokken, for å endre på HTML-elementer, og mye mer.
Med JavaScript kan du til og med lage et helt spill, eller animere 3D objekter.

## Hvordan bruke JavaScript?

Det finnes i hovedsak to måter å legge JavaScript på en HTML-side:

### Internt JavaScript

Intern JavaScript er lagt i `<script>`-elementet som regel i slutten av `<body>`-elementet, men kan også legges i `<head>`-elementet.

**Eksempel**

```html
<!DOCTYPE html>
<html>
  <head> </head>
  <body>
    <p>Hei</p>

    <script>
      let x = 2;
    </script>
  </body>
</html>
```

### Ekstern JavaScript

Ekstern JavaScript, er mer oversiktlig, fordi all JavaScript-koden kan legges i en eller flere egne filer.
Disse filene kan så lenkes til HTML-dokumentet ved å legge til attributten `src=""` til `<script>`-elementet.
Alle JavaScript-filene som er lagt til i samme HTML-dokumentet har tilgang til de globale funksjonene i hverandre.

**Eksempel**

```html
<!DOCTYPE html>
<html>
  <head> </head>
  <body>
    <p>Hei</p>

    <script src="skript.js"></script>
  </body>
</html>
```

## Nøkkelord

Alle programmeringsspråk har noen nøkkelord som har en spesifikk oppgave, en del av disse bør du kunne for å skrive i JavaScript.
Under skal vi se mer på noen av dem.

<RelevantLinks
  documentation={[
    {
      title: "JavaScript Reserved Words",
      url: "https://www.w3schools.com/js/js_reserved.asp",
    },
  ]}
/>

Legg også merke til at en linje ofte slutter med semikolon `;`.
I JavaScript er det ikke påkrevd som i andre språk, men det kan være lurt å vende seg til det.

## Variabler

Variabler blir brukt over alt i JavaScript. Før ble alltid `var` brukt, men i nyere tid er kommet to nye som blir mer brukt: `let` og `const`.
Sistnevnte brukes dersom en verdi er konstant, og ellers brukes som regel `let`.

**Eksempel**

```js
let tall = 100;
let tekst = "Hei på deg";
```

Hvilken verdi tror du `y` har?

<Tabs>
  <TabItem value="code" label="Kode" default>

```js
const x = 4;
let y = x * 2;
```

  </TabItem>
  <TabItem value="answer" label="Svar">

y = **8**

```js
4 * 2 = 8
```

Svaret er 8. Fordi symbolet `*` betyr multiplikasjon. Og JavaScript regner det ut.

  </TabItem>
</Tabs>

Hvilken verdi tror du `b` har?

<Tabs>
  <TabItem value="code" label="Kode" default>

```js
const a = 5;
let b = a + "1";
```

  </TabItem>
  <TabItem value="answer" label="Svar">

b = **51**

```js
5 + "1" = "51"
```

Svaret er 51. Hvorfor det?
Kanskje la du merke til at 1-tallet har apostrofer. Da leser JavaScript det som tekst, og legger sammen med `+` som om det er tekst.

  </TabItem>
</Tabs>

## Objekter og arrays

Variabler kan holde andre ting enn bare tall og tekst. For eksempel en liste med mange ting kalt **array**:

```js
let liste = ["a", "b", "c", 1, 2, 3];
```

Det går an å hente ut data fra en **array**, ved å bruke tall for en **indeks**.
Hva tror du verdien til `verdi` er?

<Tabs>
  <TabItem value="code" label="Kode" default>

```js
let verdi = liste[1];
```

  </TabItem>
  <TabItem value="answer" label="Svar">

verdi = **b**

JavaScript, og de fleste andre programmeringsspråk starter å telle på 0, ikke 1. Derfor får vi verdien fra plassering nr. 2 i listen.

  </TabItem>
</Tabs>

Du kan også lage et **objekt**, som kan holde data på en mer oversiktlig måte:

```js
let ola = {
  fornavn: "Ola",
  etternavn: "Nordmann",
  alder: 22,
  søsken: ["Lise", "Per"],
};
```

Her kan du hente verdiene med punktum (**.**), og bruke dem andre steder:

```js
const navn = ola.fornavn + " " + ola.etternavn;
```

## Funksjoner

For å organisere logikken på en oversiktlig måte brukes funksjoner.
Se for deg en spesiallaget maskin, der du kan putte en ting inn, så gjør maskinen jobben sin og du får en ny ting ut.

For å lage en funksjon bruker du nøkkelordet `function`, etterfølgt av et valgfritt navn som beskriver oppgaven til funksjonen, og deretter parentes `()`, som du kan hente verdier fra.
Til slutt er all logikken i en funksjon samlet inne i krøllparenteser `{}`. Verdien kan sendes tilbake ved hjelp av nøkkelordet `return`.

**Eksempel**

```js
function multiplisere(x, y) {
  let sum = x * y;
  return sum;
}
```

Den samme funksjonen kan også skrives til en variabel med `=>` symbolet, det fører blant annet til at verdien returneres uten å bruke nøkkelordet `return`:

```js
const multiplisere = (x, y) => x * y;
```

En variabel kan bruke denne funksjonen. Hva tror du verdien til `verdi` er?

<Tabs>
  <TabItem value="code" label="Kode" default>

```js
let tall = 9 + 1;
const verdi = multiplisere(tall, 5);
```

  </TabItem>
  <TabItem value="answer" label="Svar">

verdi = **50**

```js
10 * 5 = 50
```

Svaret er 50. De to tallene 10 og 5, ble sendt inn i funksjonen, kalkulert, og sendt tilbake.

  </TabItem>
</Tabs>

## Samhandle med HTML

JavaScript kan samhandle med HTML på ulike vis. Her har vi en enkel liste i HTML:

```html
<ul class="liste">
  <li>1</li>
  <li>2</li>
  <li id="nr3">3</li>
</ul>
```

For å hente hele listen kan jeg skrive følgende i JavaScript:

```js
let liste = document.querySelector("ul");
```

`querySelector` er en innebygd funksjon i JavaScript der vi kan sende inn navnet på HTML-elementet, og der vi får tilbake et element.
Her er flere eksempler:

```js
let tredjeElement = document.querySelector("#nr3");
let liste = document.querySelector(".liste");
let alleListeElementer = liste.querySelectorAll("li");
```

Her brukte vi `querySelectorAll` for å hente alle `<li></li>` elementer under listen vår. Alle elementene ble returnert som en **array**.
Vi kan nå bruke JavaScript til å gå over alle elementene og hente og endre tallene:

```js
alleListeElementer.forEach((listeElement) => {
  let tall = Number(listeElement.textContent);
  listeElement.textContent = tall * 2;
});
```

Nå vil listen se slik ut:

- 2
- 4
- 6

La oss fjerne det første elementet, og legge til ett nytt element i listen, ved bruk av de innebygde funksjonene `remove()` og `append()`:

```js
alleListeElementer[0].remove();

const nyttElement = document.createElement("li");
nyttElement.textContent = "Hei";
liste.append(nyttElement);
```

## Test deg selv

Nå er du klar for å prøve deg selv. Lag en TODO-liste, ved bruk av HTML og JavaScript, og gjerne bruk CSS til å gjøre den litt fin.

Dette skal du ha med:

- [x] En liste hvor du kan krysse av og fjerne ting.
- [x] En `input` hvor du kan skrive tekst.
- [x] En **Legg til** kapp for å legge til ting i listen.

**Ekstra**

- [x] Vis hvor mange prosent av listen som er fullført.
- [x] Legg til knapper for å krysse av alt, og fjerne alt.

<RelevantLinks
  documentation={[
    {
      title: "JavaScript basics - MDN",
      url: "https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/JavaScript_basics",
    },
  ]}
  videos={[
    {
      title: "100+ JavaScript Concepts you Need to Know",
      url: "https://www.youtube.com/watch?v=lkIFF4maKMU",
    },
  ]}
/>

## Oppsummering

Nå har du lært grunnleggende JavaScript. Det er enda mye å lære, men alle må starte et sted.
Du lærer best av å gjøre det selv, så finn på noe kult eller nyttig å lage, og søk på nettet hvis du sitter fast.

## Kompetansetest

<Test />
